{% extends "base.html" %}

{% block body %}
<script src="http://code.jquery.com/jquery-2.1.4.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/2.2.2/isotope.pkgd.js"></script>
<div class="static l-box pure-g">
    <div class="pure-u-1 pure-u-md-1 pure-u-lg-1-5"></div>
    <div class="pure-u-1 pure-u-md-1 pure-u-lg-3-5">
        <h1>Ateliers</h1>
        Filtrer :
        <div id="disciplines">
        {% for discipline in disciplines %}
            <label><input type="checkbox" value="{{ discipline.slug }}" checked onclick="updateLectures()"> {{ discipline }}</label>Â 
        {% endfor %}
        </div>
        <hr />
        <ul class="grid">
        {% for lecture in object_list %}
            <li class="grid-item{{ lecture.get_discipline_slugs }}"><a href="/ateliers/{{ lecture.id }}"><strong>{{ lecture.title }}</strong></a></li>
        {% endfor %}
        </ul>
    </div>
</div>
<script>
// $('.grid').isotope({ filter: '.{{ discipline.slug }}' })
function updateLectures() {
  choices = $('#disciplines :checked').map(function() {return '.' + this.value}).get();
  $('.grid').isotope({ filter: choices.join(',') })
}

$('.grid').isotope({
  // options
  itemSelector: '.grid-item',
  layoutMode: 'vertical'
});
</script>
{% endblock %}

{% block aside %}
{% endblock %}
